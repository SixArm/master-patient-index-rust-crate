# Master Patient Index - Production Environment Configuration
# SECURITY WARNING: Never commit this file with real credentials!

# =============================================================================
# Database Configuration
# =============================================================================
# Use a strong password and secure connection string
DATABASE_URL=postgresql://mpi_prod:CHANGE_ME_STRONG_PASSWORD@db-host:5432/mpi_production?sslmode=require
DATABASE_MAX_CONNECTIONS=50
DATABASE_MIN_CONNECTIONS=10

# =============================================================================
# Server Configuration
# =============================================================================
# Listen on all interfaces in container environment
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
GRPC_PORT=50051

# =============================================================================
# Search Engine Configuration
# =============================================================================
# Use persistent volume mount
SEARCH_INDEX_PATH=/app/data/search_index
SEARCH_CACHE_SIZE_MB=2048

# =============================================================================
# Matching Algorithm Configuration
# =============================================================================
MATCHING_THRESHOLD=0.75
MATCHING_NAME_WEIGHT=0.4
MATCHING_DOB_WEIGHT=0.3
MATCHING_GENDER_WEIGHT=0.1
MATCHING_ADDRESS_WEIGHT=0.2

# =============================================================================
# Logging Configuration
# =============================================================================
# Production logging - info level recommended
RUST_LOG=info,master_patient_index=info
LOG_LEVEL=info
RUST_BACKTRACE=0

# =============================================================================
# OpenTelemetry Configuration
# =============================================================================
OTLP_SERVICE_NAME=master-patient-index-prod
OTLP_ENDPOINT=http://otel-collector:4317

# =============================================================================
# Event Streaming Configuration
# =============================================================================
# Production event broker
FLUVIO_BROKER_URL=fluvio-broker:9003
FLUVIO_TOPIC=patient-events-prod

# =============================================================================
# Security Configuration
# =============================================================================
# Enable HTTPS, set CORS origins, API keys, etc.
# (To be implemented in future phases)
